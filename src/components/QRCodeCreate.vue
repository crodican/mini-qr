<script setup lang="ts">
// ...imports remain unchanged...

// --- SNIP: keep all your current imports ---

interface FrameStyle {
  textColor: string
  backgroundColor: string
  borderColor: string
  borderWidth: string
  borderRadius: string
  padding: string
}

const props = defineProps<{
  initialData?: string
}>()

const mainContentContainer = ref<HTMLElement | null>(null)
const isLarge = useMediaQuery('(min-width: 768px)')
const isLikelyMobileDevice = computed(() => {
  return typeof navigator !== 'undefined' && navigator.maxTouchPoints > 0
})

//#region /** locale */
const { t } = useI18n()
//#endregion

//#region /* QR code style settings */
const data = ref(props.initialData || "https://bit.ly/phillyoshp")
const debouncedData = ref(data.value)
let dataDebounceTimer: ReturnType<typeof setTimeout>
watch(
  data,
  (newVal) => {
    clearTimeout(dataDebounceTimer)
    dataDebounceTimer = setTimeout(() => {
      debouncedData.value = newVal
    }, 500)
  },
  { immediate: true }
)

// ---- Hardcoded config values ----
const image = ref("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgdmVyc2lvbj0iMS4xIgogICBpZD0iTGF5ZXJfMSIKICAgeD0iMHB4IgogICB5PSIwcHgiCiAgIHdpZHRoPSIxMDAlIgogICB2aWV3Qm94PSIwIDAgNjU4IDM2NyIKICAgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgNjU4IDM2NyIKICAgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIKICAgc29kaXBvZGk6ZG9jbmFtZT0iUFJPLUFDVF9wdXJwbGUuc3ZnIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIxLjQgKDg2YThhZDcsIDIwMjQtMTAtMTEpIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxkZWZzCiAgIGlkPSJkZWZzNzYiIC8+PHNvZGlwb2RpOm5hbWVkdmlldwogICBpZD0ibmFtZWR2aWV3NzYiCiAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgYm9yZGVyY29sb3I9IiMxMTExMTEiCiAgIGJvcmRlcm9wYWNpdHk9IjEiCiAgIGlua3NjYXBlOnNob3dwYWdlc2hhZG93PSIwIgogICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMCIKICAgaW5rc2NhcGU6cGFnZWNoZWNrZXJib2FyZD0iMSIKICAgaW5rc2NhcGU6ZGVza2NvbG9yPSIjZDFkMWQxIgogICBpbmtzY2FwZTp6b29tPSIxLjYzOTYzOTkiCiAgIGlua3NjYXBlOmN4PSIyNzIuMzE1ODkiCiAgIGlua3NjYXBlOmN5PSIyNTUuNTQzOTEiCiAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTkyMCIKICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iMTExNSIKICAgaW5rc2NhcGU6d2luZG93LXg9Ii05IgogICBpbmtzY2FwZTp3aW5kb3cteT0iLTkiCiAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjEiCiAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9IkxheWVyXzEiIC8+CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgo8ZwogICBpZD0iZzIiCiAgIGlua3NjYXBlOmxhYmVsPSJQdXJwbGUgT3ZhbCBXaGl0ZSBCb3JkZXIgQmxhY2sgQm9yZGVyIgogICB0cmFuc2Zvcm09Im1hdHJpeCgzLjc5NDQwMzEsMCwwLDMuODkyNzM2NiwtMzYuMTYwMDQ5LDIuOTEyMjk4NCkiPjxlbGxpcHNlCiAgICAgc3R5bGU9Im9wYWNpdHk6MTtmaWxsOiM1NTI5OGE7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOiNmZmZmZmY7c3Ryb2tlLXdpZHRoOjU7c3Ryb2tlLWxpbmVqb2luOmJldmVsO3N0cm9rZS1taXRlcmxpbWl0OjM0LjU7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjE7cGFpbnQtb3JkZXI6ZmlsbCBtYXJrZXJzIHN0cm9rZSIKICAgICBpZD0icGF0aDI2IgogICAgIGN4PSI5Ni44NjkwMDMiCiAgICAgY3k9IjQ1LjE4NDUwMiIKICAgICByeD0iNTcuMzMzODk3IgogICAgIHJ5PSIyOC43MjMzOTYiCiAgICAgaW5rc2NhcGU6bGFiZWw9InB1cnBsZSBvdmFsIHdoaXRlIGJvcmRlciIgLz48ZWxsaXBzZQogICAgIHN0eWxlPSJvcGFjaXR5OjE7ZmlsbDojNTU1NTIyO2ZpbGwtb3BhY2l0eTowO3N0cm9rZTojNTUyOThhO3N0cm9rZS13aWR0aDoyLjA3NjI0O3N0cm9rZS1saW5lam9pbjpiZXZlbDtzdHJva2UtbWl0ZXJsaW1pdDozNC41O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxO3BhaW50LW9yZGVyOmZpbGwgbWFya2VycyBzdHJva2UiCiAgICAgaWQ9InBhdGgyNi01IgogICAgIGN4PSI5Ni44NjkwMDMiCiAgICAgY3k9IjQ1LjE4NDQ5OCIKICAgICByeD0iNTguNzk1ODc5IgogICAgIHJ5PSIzMC4xODUzNzciCiAgICAgaW5rc2NhcGU6bGFiZWw9InB1cnBsZSBib3JkZXIiIC8+PC9nPjxnCiAgIGlkPSJnMjktMyIKICAgaW5rc2NhcGU6bGFiZWw9IlBSTy1BQ1QiCiAgIHRyYW5zZm9ybT0ibWF0cml4KDMuNzgyNTU0MiwwLDAsMy44Njg5MTM4LC0zNS4wMTM1NTYsMy45ODA2MzI2KSI+PGcKICAgICBpZD0iZzI3LTMiCiAgICAgaW5rc2NhcGU6bGFiZWw9IkFDVCI+PHBhdGgKICAgICAgIGZpbGw9IiNmN2Y2ZmEiCiAgICAgICBvcGFjaXR5PSIxIgogICAgICAgc3Ryb2tlPSJub25lIgogICAgICAgZD0ibSAxMzcuNDI3ODcsNDQuOTY3ODI3IGMgLTAuMDk3LDEuOTU1MTgzIC0wLjIyODMsMy43ODk1OTEgLTAuMjY2MzEsNS42MjU5MzEgLTAuMDE2LDAuNzc0NDMgMC4yNTA2NywxLjU1NTAzIDAuMjMxOTIsMi4zMjkwMiAtMC4wMTkyLDAuNzk0MDYgLTAuMjUwNDIsMS43MjQ1OCAtMS4yNDM5NSwxLjY3MjIgLTAuODg1NTgsLTAuMDQ2NyAtMS40NTE4OCwtMC42NjYyMSAtMS4zODIyMSwtMS43MTI3NiAwLjI4MjY0LC00LjI0NjA5IDAuNTM4OTksLTguNDkzOTk1IDAuNzg2NzcsLTEyLjc0MjI5NiAwLjA0NTYsLTAuNzgyNTM0IDAuMDA3LC0xLjU3MDAxMSAwLjAwNywtMi4zMjcxNCAtMS41Mjk2MywwLjA2ODQyIC0yLjk2MTg1LDAuMTU1NDM1IC00LjM5NTI2LDAuMTg1MTE2IC0wLjU1OTcyLDAuMDExNTkgLTEuMTcxMDYsMC4wMDk2IC0xLjY2NzY1LC0wLjIwMTIyNCAtMC4zODg5LC0wLjE2NTA4MSAtMC42MzcyLC0wLjY2MTQ0MiAtMC45NDc5NywtMS4wMTA2MjEgMC40MTg0OSwtMC4zNjc0IDAuODIwMTQsLTEuMDMxNTcxIDEuMjU4MDYsLTEuMDU2NDI4IDQuNTE5MDMsLTAuMjU2NTIyIDkuMDQzNTMsLTAuNDIxMzE1IDEzLjU2NzgzLC0wLjU3MjE1MSAwLjQwOTg5LC0wLjAxMzY1IDAuOTY4OTIsMC4xMjc2NTEgMS4yMTA1MywwLjQwOTYzNiAwLjM1MjM1LDAuNDExMjAyIDAuNDc5NTMsMS4wMTUzMzggMC43MDI2OSwxLjUzNzIyNiAtMC41NTA1NywwLjExNzExIC0xLjEwMjM4LDAuMzM3NzI1IC0xLjY1MTQ5LDAuMzMxMjEzIC0xLjQzNzQzLC0wLjAxNzA0IC0yLjg3NTcsLTAuMTA3NTA1IC00LjMwOTY3LC0wLjIxOTQ0NSAtMC44OTA1LC0wLjA2OTUyIC0xLjA3MzI3LDAuMzI4ODg4IC0xLjE0MjE5LDEuMTUxMTgxIC0wLjE4MTUzLDIuMTY2MDM4IC0wLjQ5MzkzLDQuMzIxMTA5IC0wLjc1NzYyLDYuNjAwNTQyIHoiCiAgICAgICBpZD0icGF0aDcxLTQiCiAgICAgICBzdHlsZT0ic3Ryb2tlLXdpZHRoOjAuMjY0NTgzIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IlQiIC8+PHBhdGgKICAgICAgIGZpbGw9IiNmOGY3ZmEiCiAgICAgICBvcGFjaXR5PSIxIgogICAgICAgc3Ryb2tlPSJub25lIgogICAgICAgZD0ibSAxMTYuNzg3NjEsNDcuMjc4NDg4IGMgMC4zODg1OCwxLjQ2ODg1IC0wLjEzNDk5LDMuMDY2MSAxLjAyNzc1LDQuMTk2NDcgMC41NDEwMywwLjUyNTk1IDEuMTM2ODEsMS4wOTcxNSAxLjgxODY1LDEuMzU3OCAyLjExMTk1LDAuODA3MzcgNC42NjE1NCwtMC4xMDk0MSA1Ljk2NTQ0LC0yLjAwNjEgMC42MjE2NSwtMC45MDQyNiAxLjQzMTM3LC0wLjgxMTMxIDIuMTY1MDksLTAuMjU4OTMgMC43NTA3LDAuNTY1MTcgMC43ODk0NywxLjE5MTA0IDAuMDM4NywxLjk1MjE5IC0yLjI4NDY1LDIuMzE2MTEgLTUuMDc0MDIsMy4xNTI2OCAtOC4yMTg5NiwyLjkzMTQgLTIuMzQ1NzMsLTAuMTY1MDQgLTQuNDkxNjYsLTIuOTI0NCAtNC45NDc2MSwtNS43MTc2NCAtMC43MDkxNywtNC4zNDQ2MTYgMC41MzQxOSwtOC4yMzQ2MDUgMi44MDk2MywtMTEuNzM4NDgyIDAuOTg2OTgsLTEuNTE5ODI3IDIuNzQ0NzYsLTIuNzEzNDQ3IDQuNDAxMiwtMy41NzkzNTIgMi4wMDEwOSwtMS4wNDYwNjUgNC41NjI2LDAuNzAyMTkxIDUuNDg0MTEsMy40MTgxMjMgMC4xNzk5LDAuNTMwMjM2IDAuMzUwNDMsMS4xMTYzMTEgMC4zMDEwNiwxLjY1NjEyOCAtMC4wNDQ5LDAuNDkwNDI5IC0wLjI3OTY4LDEuMjEzOTM3IC0wLjYzNTQ4LDEuMzcxMDM5IC0wLjY1MjM0LDAuMjg4MDMzIC0xLjMwMTM2LDAuMDczMyAtMS42NTY0NSwtMC43NzUxMDUgLTAuNDIzODMsLTEuMDEyNjQ1IC0wLjk2NiwtMS45ODk3NTQgLTEuNTY5MjEsLTIuOTA4NTM4IC0wLjQyMDI1LC0wLjY0MDExNSAtMS4wMjM4NSwtMC42NDc1MzEgLTEuNjk2NzYsLTAuMTcxMDUxIC0yLjkwMDk0LDIuMDU0MTMzIC00LjUyMTc2LDQuODYzMjk2IC01LjA0NzE2LDguMzQzMTYyIC0wLjA5MDksMC42MDIwMjUgLTAuMTYwNTIsMS4yMDcyNjIgLTAuMjM5OTcsMS45Mjg4ODYgeiIKICAgICAgIGlkPSJwYXRoNzAtMSIKICAgICAgIHN0eWxlPSJzdHJva2Utd2lkdGg6MC4yNjQ1ODMiCiAgICAgICBpbmtzY2FwZTpsYWJlbD0iQyIgLz48cGF0aAogICAgICAgZmlsbD0iI2Y4ZjdmYSIKICAgICAgIG9wYWNpdHk9IjEiCiAgICAgICBzdHJva2U9Im5vbmUiCiAgICAgICBkPSJtIDEwMi43ODUsNDUuOTMyODUgYyAxLjE5NDI1LC0zLjI5NzgwNyAyLjM3NTk5LC02LjQ5MjA5MiAzLjUzMTksLTkuNjk1Njk0IDAuMTI3ODQsLTAuMzU0MzA4IDAuMTg2NSwtMC43NzEzNTggMC4xNDEzMiwtMS4xNDI3NzcgLTAuMTA3NzUsLTAuODg1ODg0IDAuMjQzOTIsLTEuNTkyNjE3IDEuMDc1MzIsLTEuNjE3NTE1IDAuNTUzODQsLTAuMDE2NTkgMS4zMDI2NCwwLjQyNDQwNSAxLjY0NTUxLDAuODkzNTExIDAuNDY1NTYsMC42MzY5NTggMC43MjU3LDEuNDc0NzM4IDAuODk5MjcsMi4yNjQ3NjIgMC40OTI3MiwyLjI0MjU4NSAwLjg5NjcsNC41MDQ2NjQgMS4zNjM1OCw2LjkwMjY5NiAwLjA5MTYsMC4wMzM4NiAwLjM2MywwLjE0NDkwMiAwLjY0MTEzLDAuMjM1MDQzIDEuMTg4NDQsMC4zODUxNzIgMS40NzEyNSwxLjIxMTUyMiAwLjQ5NDkxLDEuOTMzMzk4IC0wLjk4OTExLDAuNzMxMzExIC0wLjgwMzAzLDEuNTI3NDI0IC0wLjcwNzU1LDIuNDk1MTY0IDAuMjE5MjksMi4yMjI0OCAwLjM2Nzc0LDQuNDU1NzcgMC40MTU3Nyw2LjY4NzQ2IDAuMDA4LDAuMzY2MTEgLTAuNzcyNDIsMS4xMTYyMSAtMC45NjIwMSwxLjA0OTExIC0wLjUxOTkyLC0wLjE4NDAxIC0xLjIwNzk2LC0wLjY0NzUyIC0xLjMwNjMxLC0xLjExMTM0IC0wLjIwNjA5LC0wLjk3MTgyIC0wLjA0NDcsLTIuMDE2MzEgLTAuMDkyNiwtMy4wMjgyMiAtMC4wNjgyLC0xLjQ0MjEzIC0wLjE1NDA0LC0yLjg4NTgxIC0wLjMyMTA2LC00LjMxODQ5IC0wLjAyNzYsLTAuMjM2NzIgLTAuNTMwMDIsLTAuNjE4NTM3IC0wLjc3NTUzLC0wLjU5MTYxMSAtMC43MjIwOSwwLjA3OTE5IC0xLjQyMzk1LDAuMzM1ODAxIC0yLjEzNjIyLDAuNTEyOTQxIC0xLjY0OTg1LDAuNDEwMjkgLTIuODc5NjIsMS4yMzQ4MiAtMy4zMDA3NywzLjAyNTYzIC0wLjQyMzc5LDEuODAyMDMgLTAuOTMwNCwzLjU4NTUzIC0xLjQ0MzUzLDUuMzY0OCAtMC4xMDM3OSwwLjM1OTg1IC0wLjQ1MjA4LDAuOTY0MzEgLTAuNTk2MzgsMC45Mzg4NSAtMC40NTA0OSwtMC4wNzk1IC0xLjA3NTM0LC0wLjMxMTM0IC0xLjIyODM5LC0wLjY2MTAzIC0wLjIxNDM2NywtMC40ODk3OCAtMC4xODYyNjcsLTEuMTY5OTYgLTAuMDQ3MiwtMS43MTM3NSAwLjM2MDk0LC0xLjQxMDk5IDAuODM5MjQsLTIuNzkxOTYgMS4xOTA4OSwtMy45MjcyNCAtMC42ODY0NCwtMC40MTkxNSAtMS41MDUzNjcsLTAuNjYzNzMgLTEuNTQ1MTY3LC0xLjAwMDQxIC0wLjA2ODIsLTAuNTc3IDAuMTg2MTgsLTEuMzgyMDggMC42MDIxOTcsLTEuNzgzNTUgMC42ODk1OCwtMC42NjU0NjIgMS42MTQ4LC0xLjA4Njc3NCAyLjQ2MDgzLC0xLjcxMTczOCBtIDMuNTczOSwtMS4wMTk5NjcgYyAwLjg5ODY4LC0wLjI5MTg0MyAxLjc5NzM2LC0wLjU4MzY4NiAyLjgxNzg5LC0wLjkxNTEwMSAtMC4zNjcxNiwtMS44OTc4NTYgLTAuNzMxNjQsLTMuNzgxODc0IC0xLjA5NjEyLC01LjY2NTg5MyAtMS4wMTY3LDIuMDg3NzUzIC0xLjcxOTIzLDQuMjAyNDM4IC0yLjM5Mzc5LDYuMzI2MDA4IC0wLjAxMzMsMC4wNDE4IDAuMzAxMzcsMC4xODc3NjEgMC42NzIwMiwwLjI1NDk4NiB6IgogICAgICAgaWQ9InBhdGg2OC0xIgogICAgICAgc3R5bGU9InN0cm9rZS13aWR0aDowLjI2NDU4MyIKICAgICAgIGlua3NjYXBlOmxhYmVsPSJBIiAvPjwvZz48cGF0aAogICAgIGZpbGw9IiNmNmY0ZjkiCiAgICAgb3BhY2l0eT0iMSIKICAgICBzdHJva2U9Im5vbmUiCiAgICAgZD0ibSA5OS4wMjkxMDMsNDYuMjg5MjcyIGMgMC4wODkzLDEuMTQyNTc2IC0wLjQ1MjY5LDEuNDc0NjI2IC0xLjQxOTU2LDEuNTMyNDg2IC0xLjM4NjMzLDAuMDgzIC0yLjc2NDAxLDAuMzAxODggLTQuMTQ4MDQsMC40MzUzNCAtMC43NzUwNiwwLjA3NDcgLTEuNTk2MDUsMC4yMzkzNSAtMS45OTIyMSwtMC43NTc5NiAtMC40OTA0MSwtMS4yMzQ1OTQgLTAuMDI1NSwtMS43OTUyMzUgMS4yOTA1OCwtMS44MjE5NjEgMS40NDA5NCwtMC4wMjkyNiAyLjg4OTk0LC0wLjE5NDQ2IDQuMzExOTEsLTAuNDM3ODI0IDAuOTU0NTcsLTAuMTYzMzc1IDEuNjQ1MjIsLTAuMDkyODIgMS45NTczMiwxLjA0OTkxOSB6IgogICAgIGlkPSJwYXRoNzItMyIKICAgICBzdHlsZT0ic3Ryb2tlLXdpZHRoOjAuMjY0NTgzIgogICAgIGlua3NjYXBlOmxhYmVsPSItIiAvPjxnCiAgICAgaWQ9ImcyOC04IgogICAgIGlua3NjYXBlOmxhYmVsPSJQUk8iPjxwYXRoCiAgICAgICBmaWxsPSIjZjlmN2ZhIgogICAgICAgb3BhY2l0eT0iMSIKICAgICAgIHN0cm9rZT0ibm9uZSIKICAgICAgIGQ9Im0gODguMzk2NTkzLDQ5LjAyMjMzOCBjIC0xLjQyMjQ2LDEuNzIxMDQgLTIuNTU2OCwzLjY2NzE1IC00LjIxNDIsNC45MjI5MSAtMi4yOTIyLDEuNzM2NzQgLTUuOTQxMTYsMS43MDc1MSAtNy4wNTYwNSwtMS45MTA5MSAtMS40MTU0MSwtNC41OTM3MiAtMC4yMzgzLC04Ljc0OTM3NSAyLjQyNTMsLTEyLjU3Mjk5NiAwLjY3MDU5LC0wLjk2MjYzNiAxLjQ4NDE3LC0xLjgyNTEzMyAyLjIyMzU2LC0yLjc0MDUwNCAwLjkzNTk1LC0xLjE1ODcxMyAyLjI1NjIxLC0xLjY5MTQ4MyAzLjYzMzg5LC0xLjc3MDE1MiAwLjYxNzgxLC0wLjAzNTI4IDEuNDY5NTYsMC41NjQ5MzYgMS44OTE4NywxLjEyMTkgMy4wNTI1MSw0LjAyNTg3NiAzLjY0OTgzLDguMzIwNjY2IDEuMDk1NjMsMTIuOTQ5NzUyIG0gLTMuOTcxNzgsLTExLjAwNjg0NiBjIC0yLjg3MTgxLDIuMTc0NjU4IC0zLjgzNDUsNS4xNjI1MzcgLTMuMzIxNDEsOC41NzYxOTQgMC4yMzc2MiwxLjU4MDkwMiAtMC4yMzk0MywxLjkyMzM1MiAtMS42MTIxLDEuNzI4NjEyIC0wLjA2NTUsLTAuMDA5IC0wLjE0NDExLDAuMDc0NCAtMC4yNzIyMSwwLjE0NTg3IDAsMC43MTM2MyAtMC4wNzU1LDEuNDYzODEgMC4wMTQ5LDIuMTkzNDcgMC4yMjU1NSwxLjgyMTc4IDEuMjgyNTUsMi40NzY5IDIuOTA5MTQsMS42MTA4NiAxLjE0MzE3LC0wLjYwODY2IDIuMzA5NSwtMS40Mjg4IDMuMDczMTUsLTIuNDQ4MzcgMi40NzI3OCwtMy4zMDE0NCAzLjM1MzQ5LC03LjQwMjgxOCAwLjk5NzQxLC0xMS4wNzQ1MDcgLTAuMzc3MzMsLTAuNTg4MDMxIC0wLjY5NjI4LC0xLjI3NzY2NSAtMS43ODg4NSwtMC43MzIxMjkgeiIKICAgICAgIGlkPSJwYXRoNjctNyIKICAgICAgIHN0eWxlPSJzdHJva2Utd2lkdGg6MC4yNjQ1ODMiCiAgICAgICBpbmtzY2FwZTpsYWJlbD0iTyIgLz48cGF0aAogICAgICAgZmlsbD0iI2Y5ZjhmYSIKICAgICAgIG9wYWNpdHk9IjEiCiAgICAgICBzdHJva2U9Im5vbmUiCiAgICAgICBkPSJtIDY0Ljc5NzkzMywzNi40NTc2NTUgYyAxLjE4NTI3LC0yLjAzNTE1OSAzLjUzNzc4LC0zLjA0NDExMSA2LjAzNTkzLC0yLjYzOTA0MiAxLjkxNjE0LDAuMzEwNjk4IDMuOTc2OTIsMi4xODU5NDMgNC4wMTMyOCw0LjI0NTY2MyAwLjAyMjYsMS4yNzg3MjQgLTAuNzQ1OTgsMi42MTIwODEgLTEuMzIyMzksMy44NDQ3MjEgLTAuMzIwNzgsMC42ODU5NzIgLTAuOTU1NzcsMS4yMzM5ODUgLTEuNDg1NTgsMS44MTA3MTEgLTAuNTI4OTUsMC41NzU3NyAtMS4xMDMzNSwxLjEwOTc3OSAtMS43MTUyMSwxLjcxOTI1NCAyLjY2NjQyLDIuNTc1NjY2IDQuMTY0OTEsNS44MTAwOTYgNS42ODExMyw5LjAyMzIyNiAwLjIzNDcyLDAuNDk3NDIgMS4yMDI3OCwxLjEzNDUgMC4wOTk5LDEuNzE2MDUgLTAuODQ1NDUsMC40NDU4IC0xLjcwMjczLC0wLjA2NzMgLTIuMTc1NTIsLTEuMDUxNjMgLTAuNjUwOTQsLTEuMzU1MjkgLTEuMzMwMjIsLTIuNzA1MjkgLTIuMTEyNjMsLTMuOTg3MiAtMS4yMTg5MywtMS45OTcxIC0yLjc5MDA3LC0zLjY3NjI3IC01LjA0Mzk2LC00LjkwNjE0OCAtMC4yNjc2LDIuMjYwMDM4IC0wLjU0ODIsNC40NjMxNTggLTAuNzc3NjcsNi42NzE1NzggLTAuMDY2OSwwLjY0MzY0IC0wLjAxNzgsMS4yMjA2MSAtMC45MzEyLDEuMjY5MzggLTAuOTc0MDUsMC4wNTIgLTEuNDE3NjgsLTAuNDc1MzUgLTEuNDM1NCwtMS4yOTQwMiAtMC4wMjA2LC0wLjk1MDU5IDAuMTg3NiwtMS45MDM3OSAwLjI0OTQ3LC0yLjg1ODkxIDAuMjkxMDUsLTQuNDkzMzg2IDAuNTY1OTcsLTguOTg3ODIxIDAuOTE5ODksLTEzLjU2MzYzMyBtIDYuMDk5MDIsNS4yNDQ4MDEgYyAwLjM3MjQ0LC0wLjYyOTk2OCAwLjkzOTQsLTEuMjIyNDU3IDEuMDY5NzUsLTEuODk5MDY2IDAuMTc2NDIsLTAuOTE1Njc4IDAuMzY0NzUsLTIuMTI1NTQ2IC0wLjA3ODIsLTIuNzk0NzUxIC0wLjY2ODY1LC0xLjAxMDIxNCAtMi4wMzA0OSwtMS4xNDcyNTcgLTMuMjE3NTUsLTAuNzQ2NzM0IC0xLjA3OTkyLDAuMzY0Mzc3IC0xLjQzNTI3LDEuMjgwNzkgLTEuNDE1NjEsMi4zODkwMjEgMC4wMjc4LDEuNTY0ODk0IDAuMDA3LDMuMTMwNjQ1IDAuMDA3LDQuOTY1Mjk4IDAuMjY3NDIsLTAuMDEyMzYgMC44MzgxMiwwLjEyNDA3NiAxLjIwNjk5LC0wLjA4ODk2IDAuODE1NjcsLTAuNDcxMDg4IDEuNTI5ODMsLTEuMTE3OTUyIDIuNDI3NTgsLTEuODI0ODA1IHoiCiAgICAgICBpZD0icGF0aDY2LTQiCiAgICAgICBzdHlsZT0ic3Ryb2tlLXdpZHRoOjAuMjY0NTgzIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IlIiIC8+PHBhdGgKICAgICAgIGZpbGw9IiNmOGY2ZmEiCiAgICAgICBvcGFjaXR5PSIxIgogICAgICAgc3Ryb2tlPSJub25lIgogICAgICAgZD0ibSA1MC42NzA4NjMsNDIuNDg5NjMzIGMgLTAuMjk0NDI2LC0xLjgyMzI5NiAtMC41MDk4NDEsLTMuNTQ0NDggLTAuOTExOTQ1LC01LjIyMDg4MiAtMC4yNjk0OTEsLTEuMTIzNTI0IDAuMTcyMDU2LC0xLjY4NzM1NyAxLjA1MDg2NSwtMi4yMTcxMjYgMi41MzY0MjUsLTEuNTI5MDEyIDUuMTI3NDgsLTEuMTE2MDA1IDcuNjMwODMsLTAuMDkwOTcgMS4xNDkxMiwwLjQ3MDUyNyAyLjIxNjgyLDEuMzIzNTM4IDMuMTAxMzMsMi4yMjAyMjQgMi4xNTI2NSwyLjE4MjI5NCAxLjQ3NDA0LDMuNzQxMjk5IC0wLjU3MTI3LDUuODA4NDMzIC0xLjgxNTQyLDEuODM0NzgyIC00LjI1MDY2LDIuNDIwMjMzIC02LjY3NjI0NiwyLjk1OTczNSAtMC40MTM5MTksMC4wOTIwNyAtMC44MjE3NDgsMC4yMTE1MSAtMS4wMjE4MDIsMC4yNjM1MzggMCwyLjYzMzQ2MyAtMC4wMiw1LjEzNjQ0MyAwLjAxMjcsNy42Mzg3MzMgMC4wMDkzLDAuNzExNjIgLTAuMDM0NzksMS40OTE3NSAtMC44NTI3MDcsMS40MzUxMiAtMC41MTYxNzMsLTAuMDM1NyAtMS4zMjQwMjMsLTAuNjQwNzIgLTEuNDE1NjgsLTEuMTA1NzUgLTAuMjQ4ODA2LC0xLjI2MjI4IC0wLjI2NDQ0NiwtMi41ODgzNiAtMC4yMjYxNDcsLTMuODg0ODIgMC4wNDY5NCwtMS41ODg4NiAwLjU5MzE4LC0zLjIwMjc1NSAtMC41MTYxMzYsLTQuNjc0MTM1IC0wLjEyNTYzLC0wLjE2NjY0MiAwLjAxNTI5LC0wLjU0NjMwMSAwLjA1NTgsLTAuODIzODA0IDAuMTA2NTExLC0wLjczMDAzNSAwLjIyNTc5OCwtMS40NTgyMDggMC4zNDA0MSwtMi4zMDgyOTQgbSAyLjU5NDIxNCwxLjIzNzI5MyBjIDIuNDY3NzE0LC0wLjIxMDUyOSA0LjU5NDk5NCwtMS4xMTYyODUgNi4yNDI1MzQsLTMuMDI2MDg3IDAuODkxMDksLTEuMDMyOTQ3IDEuMDcyMDYsLTIuMDQ4NDQ0IDAuMzU1OTEsLTIuNTc5NTE2IC0xLjczODExLC0xLjI4ODkyNiAtMy43MjEyMywtMS44NDM4MzkgLTUuODY4NjUyLC0xLjY3MTM0OSAtMC43NjQwNTMsMC4wNjEzNyAtMS4zNjE5NDYsMC4zNzY4NyAtMS4yNDk1MTEsMS40Mjg4NjQgMC4yMDIzMTEsMS44OTI5OTYgMC4yNTU4NTUsMy44MDE4OTMgMC41MTk3MTksNS44NDgwODggeiIKICAgICAgIGlkPSJwYXRoNjktMiIKICAgICAgIHN0eWxlPSJzdHJva2Utd2lkdGg6MC4yNjQ1ODMiCiAgICAgICBpbmtzY2FwZTpsYWJlbD0iUCIgLz48L2c+PC9nPjwvc3ZnPgo=")
const width = ref(200)
const height = ref(200)
const margin = ref(0)
const imageMargin = ref(-20)

const dotsOptionsColor = ref("#ffffff")
const dotsOptionsType = ref("classy-rounded")
const cornersSquareOptionsColor = ref("#ffffff")
const cornersSquareOptionsType = ref("dot")
const cornersDotOptionsColor = ref("#ffffff")
const cornersDotOptionsType = ref("dot")
const styleBorderRadius = ref(12)
const styledBorderRadiusFormatted = computed(() => `12px`)
const styleBackground = ref("#55298a")
const lastBackground = ref("#55298a")
const includeBackground = ref(true)
watch(
  includeBackground,
  (newIncludeBackground) => {
    if (!newIncludeBackground) {
      lastBackground.value = styleBackground.value
      styleBackground.value = "transparent"
    } else {
      styleBackground.value = lastBackground.value
    }
  },
  { immediate: true }
)

const dotsOptions = computed(() => ({
  color: dotsOptionsColor.value,
  type: dotsOptionsType.value
}))
const cornersSquareOptions = computed(() => ({
  color: cornersSquareOptionsColor.value,
  type: cornersSquareOptionsType.value
}))
const cornersDotOptions = computed(() => ({
  color: cornersDotOptionsColor.value,
  type: cornersDotOptionsType.value
}))
const style = computed(() => ({
  borderRadius: styledBorderRadiusFormatted.value,
  background: styleBackground.value
}))
const imageOptions = computed(() => ({
  margin: imageMargin.value
}))
const qrOptions = computed(() => ({
  errorCorrectionLevel: "Q"
}))

const qrCodeProps = computed<StyledQRCodeProps>(() => ({
  data: debouncedData.value || 'Have a beautiful day!',
  image: image.value,
  width: width.value,
  height: height.value,
  margin: margin.value,
  dotsOptions: dotsOptions.value,
  cornersSquareOptions: cornersSquareOptions.value,
  cornersDotOptions: cornersDotOptions.value,
  imageOptions: imageOptions.value,
  qrOptions: qrOptions.value
}))

// randomizeStyleSettings, uploadImage, and rest of your methods remain unchanged

//#region /* Frame settings */
const frameText = ref("Scan for more info")
const frameTextPosition = ref<'top' | 'bottom' | 'left' | 'right'>('bottom')
const showFrame = ref(true)
const frameStyle = ref<FrameStyle>({
  textColor: "#000000",
  backgroundColor: "#ffffff",
  borderColor: "#000000",
  borderWidth: "1px",
  borderRadius: "8px",
  padding: "16px"
})
const frameSettings = computed(() => ({
  text: frameText.value,
  position: frameTextPosition.value,
  style: frameStyle.value
}))
//#endregion

// ...rest of your script remains unchanged...
</script>